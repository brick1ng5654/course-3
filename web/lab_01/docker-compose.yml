services:
#–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  web:
  #–û–±—Ä–∞–∑, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è
    image: nginx:alpine
    #–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    container_name: con_1
    # –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤: –ø–æ—Ä—Ç 80 —Ö–æ—Å—Ç–∞ ‚Üí –ø–æ—Ä—Ç 80 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    ports:
      - "80:80"    # HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç
      - "443:443"  # üîí HTTPS
    #–í –∫–∞–∫—É—é —á–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞
    volumes:
       - ./custom:/usr/share/nginx/html
       - ./nginx/nginx.conf:/etc/nginx/nginx.conf
       - ./nginx/ssl:/etc/nginx/ssl
    depends_on:
      - nodeapp  # ‚úÖ –ñ–¥–µ–º –∑–∞–ø—É—Å–∫–∞ nodeapp
    networks:
      - app-network  # ‚úÖ –û–±—â–∞—è —Å–µ—Ç—å

#–û–±—ä—è–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
  nodeapp:
    #–£–∫–∞–∑—ã–≤–∞–µ—Ç Docker —Å–æ–±—Ä–∞—Ç—å –æ–±—Ä–∞–∑ –∏–∑ DockerFile –ø–æ –ø—É—Ç–∏ /Server
    build: ./Server
    #–ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
    container_name: nodeapp

    ports:
    - "3000:3000"
    #–í –∫–∞–∫—É—é —á–∞—Å—Ç—å –ø–∞–º—è—Ç–∏ –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–æ–µ–∫—Ç–∞
    volumes:
    - ./server:/app
    - /app/node_modules
    environment:
      - NODE_ENV=production
    networks:
      - app-network  # ‚úÖ –û–±—â–∞—è —Å–µ—Ç—å

networks:
  app-network:
    driver: bridge
    