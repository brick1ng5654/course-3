
---

# 🌀 Алгоритм Коэна–Сазерленда: отсечение отрезков прямоугольным окном

Данный проект демонстрирует работу классического алгоритма **Коэна–Сазерленда** для отсечения отрезков относительно прямоугольного окна на плоскости. Программа генерирует случайные отрезки, применяет алгоритм и визуализирует результат: исходные отрезки — серым, видимые части — красным.

---

## 📁 Структура проекта

```
kg_lab_04/
├── README.md                   ← Этот файл
├── kg_lab_04.spec              ← Конфигурационный файл
├── build                       ← Временные файлы для анализа и упаковки
├── dist/                       
│   └── kg_lab_04.exe           ← Готовый к запуску EXE-файл
└── main_code/                  
    └── kg_lab_04.py            ← Исходный код программы
```

> 💡 Примечание: поскольку проект использует `matplotlib`, сборка в `.exe` возможна, но требует осторожности.

---

## ▶️ Как запустить программу

### Запуск EXE 
1. Перейдите в папку `dist/`.
2. Запустите `kg_lab_04.exe`.

> 💡 Работает на Windows без установки Python.

Программа откроет окно с визуализацией:
- **Серые линии** — исходные отрезки.
- **Пунктирный чёрный прямоугольник** — окно отсечения.
- **Красные линии** — видимые части отрезков после применения алгоритма.

---

## 🧠 Как работает алгоритм

Алгоритм Коэна–Сазерленда использует **кодирование положения точек** относительно окна с помощью 4-битовой маски:

| Бит | Значение | Условие |
|-----|--------|--------|
| TOP (8)    | `1000` | `y > ymax` |
| BOTTOM (4) | `0100` | `y < ymin` |
| RIGHT (2)  | `0010` | `x > xmax` |
| LEFT (1)   | `0001` | `x < xmin` |

**Логика отсечения:**
1. Если обе точки внутри окна (`код1 | код2 == 0`) → отрезок **полностью видим**.
2. Если обе точки в одной внешней области (`код1 & код2 != 0`) → отрезок **полностью невидим**.
3. Иначе — отрезок **частично видим**: вычисляется точка пересечения с границей окна, и отрезок укорачивается.

Процесс повторяется до принятия или отбрасывания отрезка.

---

## 📌 Технические детали

- **Язык:** Python 3
- **Библиотеки:** `matplotlib` (визуализация), `random` (генерация данных)
- **Алгоритм:** Коэна–Сазерленда (Cohen–Sutherland line clipping)
- **Окно отсечения:** прямоугольник с координатами `(20,20)`–`(80,80)`
- **Количество отрезков:** 30 (случайные координаты в диапазоне [0, 100])

---
